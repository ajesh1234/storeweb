!function(){function t(t,e){var c="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!c){if(Array.isArray(t)||(c=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var c=Object.prototype.toString.call(t).slice(8,-1);"Object"===c&&t.constructor&&(c=t.constructor.name);if("Map"===c||"Set"===c)return Array.from(t);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){c&&(t=c);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){c=c.call(t)},n:function(){var t=c.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==c.return||c.return()}finally{if(l)throw a}}}}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,c=new Array(n);e<n;e++)c[e]=t[e];return c}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function c(t,n){for(var e=0;e<n.length;e++){var c=n[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function i(t,n,e){return n&&c(t.prototype,n),e&&c(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"iU+t":function(n,c,r){"use strict";r.r(c),r.d(c,"StatsModule",function(){return N});var a,o,l=r("SVse"),s=r("iInd"),u=r("mrSG"),d=r("wd/R"),f=r("H+bZ"),b=r("2Rin"),g=r("8Y7J"),p=r("7g+E"),m=r("s7LF"),h=((o=function(){function n(){e(this,n),this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}return i(n,[{key:"printStyle",set:function(t){for(var n in t)t.hasOwnProperty(n)&&this._printStyle.push((n+JSON.stringify(t[n])).replace(/['"]+/g,""));this.returnStyleValues()}},{key:"returnStyleValues",value:function(){return"<style> ".concat(this._printStyle.join(" ").replace(/,/g,";")," </style>")}},{key:"styleSheetFile",set:function(n){var e=function(t){return'<link rel="stylesheet" type="text/css" href="'.concat(t,'">')};if(-1!==n.indexOf(",")){var c,i=t(n.split(","));try{for(i.s();!(c=i.n()).done;){var r=c.value;this._styleSheetFile=this._styleSheetFile+e(r)}}catch(a){i.e(a)}finally{i.f()}}else this._styleSheetFile=e(n)}},{key:"returnStyleSheetLinkTags",value:function(){return this._styleSheetFile}},{key:"getElementTag",value:function(t){for(var n=[],e=document.getElementsByTagName(t),c=0;c<e.length;c++)n.push(e[c].outerHTML);return n.join("\r\n")}},{key:"getFormData",value:function(t){for(var n=0;n<t.length;n++)t[n].defaultValue=t[n].value,t[n].checked&&(t[n].defaultChecked=!0)}},{key:"getHtmlContents",value:function(){var t=document.getElementById(this.printSectionId),n=t.getElementsByTagName("input");this.getFormData(n);var e=t.getElementsByTagName("textarea");return this.getFormData(e),t.innerHTML}},{key:"print",value:function(){var t,n,e="",c="",i=this.getElementTag("base");this.useExistingCss&&(e=this.getElementTag("style"),c=this.getElementTag("link")),t=this.getHtmlContents(),(n=window.open("","_blank","top=0,left=0,height=auto,width=auto")).document.open(),n.document.write("\n      <html>\n        <head>\n          <title>".concat(this.printTitle?this.printTitle:"","</title>\n          ").concat(i,"\n          ").concat(this.returnStyleValues(),"\n          ").concat(this.returnStyleSheetLinkTags(),"\n          ").concat(e,"\n          ").concat(c,"\n        </head>\n        <body>\n          ").concat(t,"\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ").concat(this.printDelay,");\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>")),n.document.close()}}]),n}()).\u0275fac=function(t){return new(t||o)},o.\u0275dir=g.Qb({type:o,selectors:[["button","ngxPrint",""]],hostBindings:function(t,n){1&t&&g.ic("click",function(){return n.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),o),y=((a=function t(){e(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275mod=g.Tb({type:a}),a.\u0275inj=g.Sb({imports:[[]]}),a);function v(t,n){if(1&t&&(g.bc(0,"button",15),g.Wb(1,"i",16),g.Hc(2),g.ac()),2&t){var e=g.lc();g.rc("useExistingCss",!0)("printTitle",e.storename),g.Jb(2),g.Jc("",e.util.translate("Print")," ")}}function J(t,n){if(1&t&&(g.bc(0,"h2",17),g.Hc(1),g.ac()),2&t){var e=g.lc();g.Jb(1),g.Jc(" ",e.util.translate("No Orders Found")," ")}}function S(t,n){1&t&&(g.bc(0,"span"),g.Hc(1,","),g.ac())}function w(t,n){if(1&t&&(g.bc(0,"p"),g.Hc(1),g.Gc(2,S,2,0,"span",33),g.ac()),2&t){var e=n.$implicit,c=n.index,i=g.lc().$implicit;g.Jb(1),g.Jc(" ",e.name," "),g.Jb(1),g.rc("ngIf",i.orders.length-1!==c)}}function H(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",c.util.currecny," ",e.total," ")}}function I(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",e.total," ",c.util.currecny,"")}}function x(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",c.util.currecny," ",e.discount," ")}}function k(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",e.discount," ",c.util.currecny,"")}}function F(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",c.util.currecny," ",e.grand_total," ")}}function O(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",e.grand_total," ",c.util.currecny,"")}}function D(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",c.util.currecny," ",c.getCommisions(e.total-e.discount)," ")}}function T(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc().$implicit,c=g.lc(2);g.Jb(1),g.Kc("",c.getCommisions(e.total-e.discount)," ",c.util.currecny,"")}}function Y(t,n){if(1&t&&(g.bc(0,"tr",34),g.bc(1,"td"),g.Hc(2),g.ac(),g.bc(3,"td"),g.Hc(4),g.ac(),g.bc(5,"td"),g.Gc(6,w,3,2,"p",35),g.ac(),g.bc(7,"td"),g.Gc(8,H,2,2,"span",33),g.Gc(9,I,2,2,"span",33),g.ac(),g.bc(10,"td"),g.Gc(11,x,2,2,"span",33),g.Gc(12,k,2,2,"span",33),g.ac(),g.bc(13,"td"),g.Gc(14,F,2,2,"span",33),g.Gc(15,O,2,2,"span",33),g.ac(),g.bc(16,"td"),g.Gc(17,D,2,2,"span",33),g.Gc(18,T,2,2,"span",33),g.ac(),g.ac()),2&t){var e=n.$implicit,c=g.lc(2);g.Jb(2),g.Jc("#",e.id,""),g.Jb(2),g.Ic(e.date_time),g.Jb(2),g.rc("ngForOf",e.orders),g.Jb(2),g.rc("ngIf","left"===c.util.cside),g.Jb(1),g.rc("ngIf","right"===c.util.cside),g.Jb(2),g.rc("ngIf","left"===c.util.cside),g.Jb(1),g.rc("ngIf","right"===c.util.cside),g.Jb(2),g.rc("ngIf","left"===c.util.cside),g.Jb(1),g.rc("ngIf","right"===c.util.cside),g.Jb(2),g.rc("ngIf","left"===c.util.cside),g.Jb(1),g.rc("ngIf","right"===c.util.cside)}}function C(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc(2);g.Jb(1),g.Kc("",e.util.currecny," ",e.totalAmount," ")}}function M(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc(2);g.Jb(1),g.Kc("",e.totalAmount," ",e.util.currecny,"")}}function A(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc(2);g.Jb(1),g.Kc("",e.util.currecny," ",e.toPay,"")}}function E(t,n){if(1&t&&(g.bc(0,"span"),g.Hc(1),g.ac()),2&t){var e=g.lc(2);g.Jb(1),g.Kc("",e.toPay," ",e.util.currecny,"")}}function G(t,n){if(1&t&&(g.bc(0,"div",18),g.bc(1,"div",2),g.bc(2,"div",3),g.bc(3,"div",19),g.bc(4,"h3",20),g.Hc(5),g.ac(),g.bc(6,"p",21),g.Hc(7),g.ac(),g.bc(8,"p",22),g.Hc(9),g.ac(),g.bc(10,"p",23),g.Hc(11),g.Wb(12,"br"),g.Hc(13),g.Wb(14,"br"),g.Hc(15),g.ac(),g.bc(16,"p",23),g.Hc(17),g.ac(),g.bc(18,"p",23),g.Hc(19),g.ac(),g.bc(20,"p",24),g.Hc(21),g.ac(),g.bc(22,"p",25),g.Hc(23),g.ac(),g.bc(24,"table",26),g.bc(25,"thead"),g.bc(26,"tr",27),g.bc(27,"th"),g.Hc(28),g.ac(),g.bc(29,"th"),g.Hc(30),g.ac(),g.bc(31,"th"),g.Hc(32),g.ac(),g.bc(33,"th"),g.Hc(34),g.ac(),g.bc(35,"th"),g.Hc(36),g.ac(),g.bc(37,"th"),g.Hc(38),g.ac(),g.bc(39,"th"),g.Hc(40),g.ac(),g.ac(),g.ac(),g.bc(41,"tbody"),g.Gc(42,Y,19,11,"tr",28),g.ac(),g.ac(),g.bc(43,"div",29),g.Wb(44,"div",8),g.bc(45,"div",30),g.bc(46,"p",22),g.Hc(47),g.ac(),g.bc(48,"p",22),g.Hc(49),g.ac(),g.ac(),g.bc(50,"div",31),g.bc(51,"p",32),g.Gc(52,C,2,2,"span",33),g.Gc(53,M,2,2,"span",33),g.ac(),g.bc(54,"p",32),g.Gc(55,A,2,2,"span",33),g.Gc(56,E,2,2,"span",33),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t){var e=g.lc();g.Jb(5),g.Ic(e.util.general.name),g.Jb(2),g.Kc("",e.getDate(e.from)," to ",e.getDate(e.to)," "),g.Jb(2),g.Jc(" ",e.util.general.name,""),g.Jb(2),g.Jc(" ",e.util.general.address," "),g.Jb(2),g.Kc(" ",e.util.general.city," ",e.util.general.state,""),g.Jb(2),g.Kc(" ",e.util.general.country," ",e.util.general.zip," "),g.Jb(2),g.Jc(" ",e.util.general.email,""),g.Jb(2),g.Jc(" ",e.util.general.mobile," "),g.Jb(2),g.Jc(" ",e.util.store.name," "),g.Jb(2),g.Ic(e.today()),g.Jb(5),g.Jc("",e.util.translate("Id")," "),g.Jb(2),g.Jc("",e.util.translate("Ordered on")," "),g.Jb(2),g.Jc("",e.util.translate("Items")," "),g.Jb(2),g.Jc("",e.util.translate("Total")," "),g.Jb(2),g.Jc("",e.util.translate("Discount")," "),g.Jb(2),g.Jc("",e.util.translate("Grand Total")," "),g.Jb(2),g.Jc("",e.util.translate("Store Amount")," "),g.Jb(2),g.rc("ngForOf",e.storeOrder),g.Jb(5),g.Jc(" ",e.util.translate("Total")," "),g.Jb(2),g.Jc(" ",e.util.translate("Amount Pay To Store")," "),g.Jb(3),g.rc("ngIf","left"===e.util.cside),g.Jb(1),g.rc("ngIf","right"===e.util.cside),g.Jb(2),g.rc("ngIf","left"===e.util.cside),g.Jb(1),g.rc("ngIf","right"===e.util.cside)}}var _,P,K,$=[{path:"",component:(_=function(){function t(n,c){e(this,t),this.util=n,this.api=c,this.stores=[],this.allOrders=[],this.storeOrder=[],this.totalAmount=0,this.commisionAmount=0,this.toPay=0,this.totalAmountsFromOrder=0,this.storeId=parseInt(localStorage.getItem("uid"))}return i(t,[{key:"ngOnInit",value:function(){}},{key:"getStats",value:function(){var t=this;if(console.log("from",this.from),console.log("to",this.to),!this.from||!this.to)return console.log("not valid"),this.util.error(this.util.translate("All Fields are required")),!1;console.log("ok");var n={id:localStorage.getItem("uid"),from:d(this.from,"YYYY-MM-DD HH:mm A").utcOffset("+05:30").format("YYYY-MM-DD HH:mm"),to:d(this.to,"YYYY-MM-DD HH:mm A").utcOffset("+05:30").format("YYYY-MM-DD 23:59")};console.log(n),this.util.show(),this.apiCalled=!1,this.storeOrder=[],this.api.post_private("v1/orders/getStoreStatsDataWithDates",n).then(function(n){if(t.apiCalled=!0,t.util.hide(),console.log(n),n&&200==n.status&&n.data.length){t.storecommission=n.commission.commission,console.log("commustion",t.storecommission);var e=0;n.data.forEach(function(n){return Object(u.__awaiter)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var c,i,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=function(t){try{return JSON.parse(t),!0}catch(n){return!1}}(n.orders),!t.t0){t.next=9;break}return n.orders=JSON.parse(n.orders),n.date_time=d(n.date_time).format("dddd, MMMM Do YYYY"),t.next=6,n.orders.filter(function(t){return t.store_id==r.storeId});case 6:n.orders=t.sent,console.log(n.discount),t.t0=function(t){try{return JSON.parse(t),!0}catch(n){return!1}}(n.status);case 9:if(!t.t0){t.next=15;break}return c=JSON.parse(n.status),t.next=13,c.filter(function(t){return t.id==r.storeId});case 13:(i=t.sent)&&i.length&&"delivered"==i[0].status&&(e+=n.total-n.discount,this.storeOrder.push(n));case 15:case"end":return t.stop()}},t,this)}))}),setTimeout(function(){console.log(t.storeOrder),console.log(e,t.storecommission);var n=e/100*parseFloat(t.storecommission);console.log("commistion====>>>>>",n.toFixed(2)),t.commisionAmount=n.toFixed(2),t.totalAmount=e,t.toPay=t.commisionAmount},1e3)}},function(n){t.util.hide(),console.log(n),t.apiCalled=!0,t.util.error(t.util.translate("Something went wrong"))}).catch(function(n){t.util.hide(),console.log(n),t.apiCalled=!0,t.util.error(t.util.translate("Something went wrong"))})}},{key:"getCommisions",value:function(t){return(parseFloat(t)*this.storecommission/100).toFixed(2)}},{key:"donwloadPDF",value:function(){}},{key:"today",value:function(){return d().format("ll")}},{key:"getDate",value:function(t){return d(t).format("ll")}},{key:"getName",value:function(){return this.storeOrder[0].name+"_"+d(this.from).format("DDMMYYYY")+"_"+d(this.to).format("DDMMYYYY")}}]),t}(),_.\u0275fac=function(t){return new(t||_)(g.Vb(b.a),g.Vb(f.a))},_.\u0275cmp=g.Pb({type:_,selectors:[["app-stats"]],decls:31,vars:12,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-body","reset-table","p-t-0"],[1,"form-group","row"],[1,"col-sm-6"],["type","date",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"col-sm-12"],[1,"btn","btn-danger","btn-round",3,"click"],["style","margin-left: 20px;","printSectionId","print-section","ngxPrint","","class","btn btn-primary",3,"useExistingCss","printTitle",4,"ngIf"],["style","text-align: center;",4,"ngIf"],["class","row","id","print-section",4,"ngIf"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-primary",2,"margin-left","20px",3,"useExistingCss","printTitle"],[1,"icofont","icofont-printer"],[2,"text-align","center"],["id","print-section",1,"row"],[1,"card-body",2,"padding","20px"],[2,"text-align","center","color","#7ec6aa"],[2,"text-align","center","color","#ED7669"],[2,"text-align","right","font-weight","bold","margin","0px !important","color","#7EC6AA"],[2,"text-align","right","font-weight","bold","margin","0px !important"],[2,"text-align","left","font-weight","bold","margin","0px","color","#aaafad"],[2,"text-align","left","font-weight","bold","color","#7EC6AA"],[1,"table","table-striped"],[1,"text-uppercase",2,"color","#7ec6aa"],["style","background-color: #F5F8FA;",4,"ngFor","ngForOf"],[1,"row",2,"padding","20px"],[1,"col-sm-4"],[1,"col-sm-2"],[2,"color","black !important","margin","0px !important","text-align","right"],[4,"ngIf"],[2,"background-color","#F5F8FA"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(g.Wb(0,"ngx-spinner"),g.bc(1,"div",0),g.bc(2,"div",1),g.bc(3,"div",2),g.bc(4,"div",3),g.bc(5,"div",4),g.Hc(6),g.ac(),g.bc(7,"div",5),g.bc(8,"div",1),g.bc(9,"div",2),g.bc(10,"div",3),g.bc(11,"div",5),g.bc(12,"h5"),g.Hc(13),g.ac(),g.ac(),g.bc(14,"div",6),g.bc(15,"div",7),g.bc(16,"div",8),g.bc(17,"label"),g.Hc(18),g.ac(),g.bc(19,"input",9),g.ic("ngModelChange",function(t){return n.from=t}),g.ac(),g.ac(),g.bc(20,"div",8),g.bc(21,"label"),g.Hc(22),g.ac(),g.bc(23,"input",9),g.ic("ngModelChange",function(t){return n.to=t}),g.ac(),g.ac(),g.ac(),g.bc(24,"div",7),g.bc(25,"div",10),g.bc(26,"button",11),g.ic("click",function(){return n.getStats()}),g.Hc(27),g.ac(),g.Gc(28,v,3,3,"button",12),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.ac(),g.Gc(29,J,2,1,"h2",13),g.Gc(30,G,57,27,"div",14),g.ac(),g.ac(),g.ac(),g.ac(),g.ac()),2&t&&(g.Jb(6),g.Jc(" ",n.util.translate("Stats")," "),g.Jb(7),g.Jc("",n.util.translate("Get Stats")," "),g.Jb(5),g.Jc("",n.util.translate("From Date")," "),g.Jb(1),g.rc("ngModel",n.from)("placeholder",n.util.translate("From Date")),g.Jb(3),g.Jc("",n.util.translate("To Date")," "),g.Jb(1),g.rc("ngModel",n.to)("placeholder",n.util.translate("To Date")),g.Jb(4),g.Jc("",n.util.translate("Get Stats")," "),g.Jb(1),g.rc("ngIf",n.from&&n.to&&(null==n.storeOrder?null:n.storeOrder.length)),g.Jb(1),g.rc("ngIf",n.from&&n.to&&!(null!=n.storeOrder&&n.storeOrder.length)&&n.apiCalled),g.Jb(1),g.rc("ngIf",n.from&&n.to&&(null==n.storeOrder?null:n.storeOrder.length)))},directives:[p.a,m.a,m.g,m.j,l.l,h,l.k],styles:["p[_ngcontent-%COMP%]{margin:0!important}"]}),_)}],j=((K=function t(){e(this,t)}).\u0275fac=function(t){return new(t||K)},K.\u0275mod=g.Tb({type:K}),K.\u0275inj=g.Sb({imports:[[s.g.forChild($)],s.g]}),K),N=((P=function t(){e(this,t)}).\u0275fac=function(t){return new(t||P)},P.\u0275mod=g.Tb({type:P}),P.\u0275inj=g.Sb({imports:[[l.c,j,y,p.b,m.e]]}),P)}}])}();